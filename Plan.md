## Планирование

<p>Для тестирования приложения в систему заведены 2 карты: первая и вторая.</p>
Первая карта действует, и при корректном заполнении полей формы банк должен выполнить операцию по ней.<br/>
Вторая карта не действует, и при корректном заполнении полей формы банк должен отклонить операцию по ней.<br/>

`````
Реквизиты первой карты:
Номер: 4444 4444 4444 4441
Месяц: следующий месяц относительно текущей даты.
Год: соответствует году следующего месяца относительно текущей даты.
Владелец: PETROV SIDOR
CVC/CVV: 999
`````

`````
Реквизиты второй карты:
Номер: 4444 4444 4444 4442
Месяц: следующий месяц относительно текущей даты.
Год: соответствует году следующего месяца относительно текущей даты.
Владелец: PETROV SIDOR
CVC/CVV: 999
`````


### Перечень автоматизируемых сценариев
<table>
  <thead>
    <tr>
      <td>№</td>
      <td>Название</td>
      <td>Описание</td>
      <td>Предусловия</td>
      <td>Шаги</td>
      <td>Ожидаемый результат</td>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td colspan="6" align="center">Оплата по карте</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Успешная оплата картой</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
          <li>Заполнить поля формы значениями первой карты</li>
          <li>Нажать на кнопку "Продолжить"</li>
          <li>Подождать 15 секунд</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На странице виден элемент с текстом "Успешно"</li>
        </ul>
        <ul>
            БД:
            <li>В таблицу "order_entity" добавилась запись</li>
            <li>В таблицу "payment_entity" добавилась запись</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
            <li>Поле "status" новой записи в таблице "payment_entity" имеет значение "APPROVED"</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>2</td>
      <td>Отказ в оплате картой</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
          <li>Заполнить поля формы значениями второй карты</li>
          <li>Нажать на кнопку "Продолжить"</li>
          <li>Подождать 15 секунд</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На странице виден элемент с текстом "Ошибка"</li>
        </ul>
        <ul>
          БД:
          <li>В таблицу "order_entity" добавилась запись</li>
          <li>В таблицу "payment_entity" добавилась запись</li>
          <li>В таблице "credit_request_entity" нет новых записей</li>
          <li>Поле "status" новой записи в таблице "payment_entity" имеет значение "DECLINED"</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>3</td>
      <td>Валидация поля "Номер карты</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
            <li>Поле "Номер карты поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>44444444444444412</li>
                    <li>444444444444444</li>
                    <li>444444444444444i</li>
                    <li>444444444444444%</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Номер карты видно предупреждение</li>
        </ul>
        <ul>
          БД:
          <li>В таблице "order_entity" нет новых записей</li>
          <li>В таблице "payment_entity" нет новых записей</li>
          <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>4</td>
      <td>Валидация поля "Месяц"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
            <li>Поле "Месяц" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>0</li>
                    <li>00</li>
                    <li>5</li>
                    <li>005</li>
                    <li>13</li>
                    <li>-01</li>
                    <li>VI</li>
                    <li>0%</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Месяц" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>5</td>
      <td>Валидация поля "Год"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить"</li>
            <li>Поле "Год" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>XX</li>
                    <li>2%</li>
                    <li>-23</li>
                    <li>4 цифры текущего года</li>
                    <li>последние 3 цифры текущего года</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>6</td>
      <td>Валидация срока действия карты (срок действия истёк 1 месяц назад)</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить"</li>
            <li>Поля "Месяц" и "Год" заполнить значениями, соответствующими дате на 1 месяц раньше текущей</li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Месяц" или "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>7</td>
      <td>Валидация срока действия карты (срок действия истёк 1 год назад)</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
          <li>Поле "Год" заполнить значениями, соответствующими дате на 1 год раньше текущей</li>
          <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>8</td>
      <td>Валидация поля "Владелец"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить"</li>
            <li>Поле "Владелец" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>PETROV</li>
                    <li>PETROV SIDOR IVANOVICH</li>
                    <li>Петров</li>
                    <li>Петров Сидор Иванович</li>
                    <li>Петров-Старший Сидор</li>
                    <li>*</li>
                    <li>* *</li>
                    <li>123 456</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Владелец" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>9</td>
      <td>Валидация поля "CVC/CVV"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить"</li>
          <li>Поле "CVC/CVV" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>9</li>
                    <li>99</li>
                    <li>9999</li>
                    <li>abc</li>
                    <li>***</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "CVC/CVV" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
        <td colspan="6" align="center">Оплата в кредит</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Успешная оплата в кредит по реквизитам первой карты</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
          <li>Заполнить поля формы значениями первой карты</li>
          <li>Нажать на кнопку "Продолжить"</li>
          <li>Подождать 15 секунд</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На странице виден элемент с текстом "Успешно"</li>
        </ul>
        <ul>
            БД:
          <li>В таблицу "order_entity" добавилась запись</li>
          <li>В таблице "payment_entity" нет новых записей</li>
          <li>В таблицу "credit_request_entity" добавилась запись</li>
          <li>Поле "status" новой записи в таблице "credit_request_entity" имеет значение "APPROVED"</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>11</td>
      <td>Отказ в оплате в кредит по реквизитам второй карты</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
          <li>Заполнить поля формы реквизитами второй карты</li>
          <li>Нажать на кнопку "Продолжить"</li>
          <li>Подождать 15 секунд</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На странице виден элемент с текстом "Ошибка"</li>
        </ul>
        <ul>
            БД:
          <li>В таблицу "order_entity" добавилась запись</li>
          <li>В таблице "payment_entity" нет новых записей</li>
          <li>В таблицу "credit_request_entity" добавилась запись</li>
          <li>Поле "status" новой записи в таблице "credit_request_entity" имеет значение "DECLINED"</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>12</td>
      <td>Валидация поля "Номер карты</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
          <li>Поле "Номер карты поочерёдно заполнить значениями:</li>
            <li>
                <ul>
                    <li> "" (пустая строка)</li>
                    <li>44444444444444412</li>
                    <li>444444444444444</li>
                    <li>444444444444444i</li>
                    <li>444444444444444%</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Номер карты видно предупреждение</li>
        </ul>
        <ul>
          БД:
          <li>В таблице "order_entity" нет новых записей</li>
          <li>В таблице "payment_entity" нет новых записей</li>
          <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>13</td>
      <td>Валидация поля "Месяц"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
            <li>Поле "Месяц" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>0</li>
                    <li>00</li>
                    <li>5</li>
                    <li>005</li>
                    <li>13</li>
                    <li>-01</li>
                    <li>VI</li>
                    <li>0%</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Месяц" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>14</td>
      <td>Валидация поля "Год"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить в кредит"</li>
            <li>Поле "Год" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>XX</li>
                    <li>2%</li>
                    <li>-23</li>
                    <li>4 цифры текущего года</li>
                    <li>последние 3 цифры текущего года</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>15</td>
      <td>Валидация срока действия карты (срок действия истёк 1 месяц назад)</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить в кредит"</li>
            <li>Поля "Месяц" и "Год" заполнить значениями, соответствующими дате на 1 месяц раньше текущей</li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Месяц" или "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>16</td>
      <td>Валидация срока действия карты (срок действия истёк 1 год назад)</td>
      <td>Позитивный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
          <li>Поле "Год" заполнить значениями, соответствующими дате на 1 год раньше текущей</li>
          <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Год" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>17</td>
      <td>Валидация поля "Владелец"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
            <li>Нажать на кнопку "Купить в кредит"</li>
            <li>Поле "Владелец" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>PETROV</li>
                    <li>PETROV SIDOR IVANOVICH</li>
                    <li>Петров</li>
                    <li>Петров Сидор Иванович</li>
                    <li>Петров-Старший Сидор</li>
                    <li>*</li>
                    <li>* *</li>
                    <li>123 456</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "Владелец" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>18</td>
      <td>Валидация поля "CVC/CVV"</td>
      <td>Негативный</td>
      <td>
        <ol>
          <li>Открыта страница http://localhost:8080</li>
        </ol>
      </td>
      <td>
        <ol>
          <li>Нажать на кнопку "Купить в кредит"</li>
          <li>Поле "CVC/CVV" поочерёдно заполнить значениями:
                <ul>
                    <li>"" (пустая строка)</li>
                    <li>9</li>
                    <li>99</li>
                    <li>9999</li>
                    <li>abc</li>
                    <li>***</li>
                </ul>
            </li>
            <li>Заполнить остальные поля формы значениями первой карты</li>
            <li>Нажать на кнопку "Продолжить"</li>
        </ol>
      </td>
      <td>
        <ul>
            UI:
            <li>На форме под полем "CVC/CVV" видно предупреждение</li>
        </ul>
        <ul>
            БД:
            <li>В таблице "order_entity" нет новых записей</li>
            <li>В таблице "payment_entity" нет новых записей</li>
            <li>В таблице "credit_request_entity" нет новых записей</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

### Перечень используемых инструментов с обоснованием выбора
- JUnit5. Популярный фреймворк для тестирования на Java.
- UI: Selenium + Selenide. Удобные конструкции, покрывают все потребности в тестировании UI.
- DB: mysql-connector, postgresql, java.sql. Будет немного обращений к БД, достаточно стандартного функционала java.

### Перечень и описание возможных рисков при автоматизации
- UI может быть разработан без учёта тестирования (не указаны id элементов). При изменениях в приложении автотесты могут перестать проходить.

### Интервальная оценка с учётом рисков (в часах)
- планирование: 8
- реализация автотестов: 8
- поиск и устранение ошибок в тестах: 6
- прогон тестов: 2
- формирование отчёта: 4

### План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
- готовность автотестов: 25.06
- результаты прогона тестов: 26.06
- отчёт по автоматизации: 28:06